name: CI
on: pull_request
jobs:
  codegen:
    name: codegen check
    runs-on: ubuntu-18.04
    steps:
    - name: Cancel Previous Actions
      uses: styfle/cancel-workflow-action@0.3.1
      with:
        workflow_id: 1442930
        access_token: ${{ github.token }}
    - name: Set up Go 1.14
      uses: actions/setup-go@v1
      with:
        go-version: 1.14
      id: go
    - name: Check out code into the Go module directory
      uses: actions/checkout@v2
      with:
        fetch-depth: 0
    - name: Generate Code
      run: |
        ./ci/check-code-and-docs-gen.sh